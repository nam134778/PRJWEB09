<!DOCTYPE html>
<html>
    <head>
        <title>PRJWEB | Password Reset</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://fonts.googleapis.com/css?family=Assistant:400,700" rel="stylesheet"><link rel="stylesheet" href="./style.css">

    </head>

    <body>
        <section class='login' id='login' style="width: 400px; ">
            <div class='head'>
            <h1 class='company' style="margin-top: -10px;">Input your email</h1>
            </div>
            <div class='form'>
              <form>
            <input type="text" id="email"  class="text"  name="email"    placeholder="Email"    />
            <div style="margin-top: 30px;">
                <a href="#" class='btn-login' id='send_email' type="submit" name="send_email">Send</a>
            </div>
            <a href="signup.html" class="forgot" style="margin-top: -40px;">Sign Up</a> </br></br>
            <a href="index.html" class="forgot" style="margin-top: -45px;">Sign In</a>
              </form>
            </div>
          </section>
        <!-- <div>
            <h1>Quên mật khẩu</h1>

            <input type="text"      id="email"    name="email"    placeholder="Email"    />
            <input type="submit"    id="send_email"   name="send_email"   value="Gửi email"        />

            <a href="signup.html">Chưa có tài khoản? Đăng ký</a> </br></br>
            <a href="index.html">Đăng nhập</a>
        </div> -->
    </body>

    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.19.1/firebase-app.js";
        import { getDatabase, ref, update } from "https://www.gstatic.com/firebasejs/9.19.1/firebase-database.js";

        import { getAuth, signInWithEmailAndPassword, sendPasswordResetEmail } from "https://www.gstatic.com/firebasejs/9.19.1/firebase-auth.js";

           
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
      
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
          apiKey: "AIzaSyAgXRktPnpQ_tToW7tXQdPlxSXRf9_VK88",
          authDomain: "prjweb-d2e8d.firebaseapp.com",
          databaseURL: "https://prjweb-d2e8d-default-rtdb.asia-southeast1.firebasedatabase.app",
          projectId: "prjweb-d2e8d",
          storageBucket: "prjweb-d2e8d.appspot.com",
          messagingSenderId: "722705639877",
          appId: "1:722705639877:web:4cfedddcf5ec0e82fb83ac",
          measurementId: "G-K50Z8KJNX7"
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);
        const auth = getAuth();

        send_email.addEventListener('click', (e) => {
            var email       = document.getElementById('email').value;

            sendPasswordResetEmail(auth, email)
            .then(() => {

                alert('Email Sent');
                // ...
            })
            .catch((error) => {
                const errorCode = error.code;
                const errorMessage = error.message;
                // ..
                alert(errorMessage);
            });   
        })
        
      </script>

</html>